/**
*
*   Simple .INI Parser for JavaScript/Node
*   @Nikos M.
*
**/
(function(t,e){var s=null,n=function(t,n){var r="",i=[";","#"],u=function(t){return t.replace(/^\s+/g,"").replace(/\s+$/g,"")};this.keysList=e===t?!0:t,this.root=n?""+n:"_",this.fromFile=function(t){return s=s||require("fs"),r=s.readFileSync(t),this},this.fromString=function(t){return r=""+t,this},this.parse=function(){var t,e,s,n,o,l,f,d,h,_,p,c={};for(l=this.keysList,o=this.root,c[o]=l?{__list__:[]}:{},t=r.split(/\n\r|\r\n|\r|\n/g),s=t.length,n=0;s>n;++n)e=u(t[n]),f=e.substr(0,1),0>=e.length||i.indexOf(f)>-1||("["!=f?'"'!=f&&"'"!=f?(d=e.split("=",2),d.length<2?(h=u(d[0]),l?c[o].__list__.push(h):c[o][h]=!0):(h=u(d[0]),_=u(d[1]),c[o][h]=_)):(endquote=e.indexOf(f,1),h=e.substr(1,endquote-1),e=u(e.substr(endquote)),e.indexOf("=",0)>-1?(_=u(e.split("=",2)[1]),p=_.substr(0,1),('"'==p||"'"==p)&&(endquote=_.indexOf(p,1),_=_.substr(1,endquote-1)),c[o][h]=_):l?c[o].__list__.push(h):c[o][h]=!0):(o=e.substr(1,e.length-2),c[o]||(c[o]=l?{__list__:[]}:{})));return c}};"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof exports?exports=n:this.IniParser=n}).call(this);