/**
*
*   Simple .INI Parser for JavaScript/Node
*   @Nikos M.
*
**/
(function(s,t){var r=null;console.log;var e=function(s,e){var i="",n=[";","#"],u=function(s){return s.replace(/^\s+/g,"").replace(/\s+$/g,"")};this.keysList=t===s?!0:s,this.root=e?""+e:"_",this.fromFile=function(s){return r=r||require("fs"),i=r.readFileSync(s),this},this.fromString=function(s){return i=""+s,this},this.parse=function(){var s,t,r,e,o,l,f,_,h,p,d,c,a,x,b,g={};for(f=this.keysList,o=this.root,g[o]=f?{__list__:[]}:{},l=g,s=i.split(/\n\r|\r\n|\r|\n/g),r=s.length,e=0;r>e;++e)if(t=u(s[e]),_=t.substr(0,1),!(0>=t.length||n.indexOf(_)>-1))if("["!=_)'"'!=_&&"'"!=_?(h=t.split("=",2),h.length<2?(p=u(h[0]),f?l[o].__list__.push(p):l[o][p]=!0):(p=u(h[0]),d=u(h[1]),l[o][p]=d)):(a=t.indexOf(_,1),p=t.substr(1,a-1),t=u(t.substr(a)),t.indexOf("=",0)>-1?(d=u(t.split("=",2)[1]),c=d.substr(0,1),('"'==c||"'"==c)&&(a=d.indexOf(c,1),d=d.substr(1,a-1)),l[o][p]=d):f?l[o].__list__.push(p):l[o][p]=!0);else for(b=!0;"["==_;)l=b?g:l[o],b=!1,x=t.indexOf("]",1),o=t.substr(1,x-1),l[o]||(l[o]=f?{__list__:[]}:{}),t=u(t.substr(x+1)),_=t.substr(0,1);return g}};"undefined"!=typeof module&&module.exports?module.exports=e:"undefined"!=typeof exports?exports=e:this.IniParser=e}).call(this);